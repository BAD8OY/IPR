1. Цель  
   Закрепить пройденный материал из курса и разработать REST сервис на языке TypeScript, который взаимодействует с двумя базами данных: MongoDB и PostgreSQL. Сервис должен предоставлять API для работы с сущностями, хранить часть данных в MongoDB, часть — в PostgreSQL, обеспечивать безопасность, логирование и тестируемость.
2. Функциональные требования
   1. Общие требования
      - Сервис должен быть реализован с использованием Node.js (TypeScript).
      - Для хранения данных используются две СУБД:
        - MongoDB — для хранения документов (например, профили пользователей,  
        JSON-объекты).
        - PostgreSQL — для хранения реляционных данных (например, заказы,
        транзакции).
      - Сервис реализует REST API (CRUD-операции) для работы с данными.
      - Вся бизнес-логика реализуется на серверной стороне.
   2. Сущности
      1. Пользователь (User) — хранится в MongoDB
         - id (ObjectId, генерируется MongoDB)
         - email (string, уникальный)
         - name (string)
         - profile (object, произвольная вложенная структура)
         - createdAt (datetime)
      2. Заказ (Order) — хранится в PostgreSQL
         - id (integer, автоинкремент)
         - userId (ObjectId, ссылка на пользователя из MongoDB)
         - amount (number)
         - status (string: 'pending' | 'paid' | 'canceled')
         - createdAt (datetime)
   3. REST API
      1. Пользователи (MongoDB)
         - POST /users — создать пользователя
         - GET /users/:id — получить пользователя по id
         - PUT /users/:id — обновить пользователя
         - DELETE /users/:id — удалить пользователя
         - GET /users — получить список пользователей (с пагинацией)
      2. Заказы (PostgreSQL)
         - POST /orders — создать заказ
         - GET /orders/:id — получить заказ по id
         - PUT /orders/:id — обновить заказ
         - DELETE /orders/:id — удалить заказ
         - GET /orders — получить список заказов (с фильтрацией по userId, пагинацией)
      3. Связка
         
      При создании заказа (POST /orders) обязательно указывать существующий userId (MongoDB).
   4. Валидация и обработка ошибок
      - Все входные данные валидируются (например, с помощью библиотеки class-validator или zod).
      - Для невалидных запросов возвращается статус 400 с описанием ошибки.
      - Для несуществующих сущностей — статус 404.
      - Для внутренних ошибок — статус 500.
   5. Аутентификация и безопасность
      - Реализовать JWT-аутентификацию (например, с помощью passport или jsonwebtoken).
      - Все методы, кроме регистрации и логина, требуют авторизации.
      - Хранить пароли пользователей в виде хеша (bcrypt).
   6. Логирование
      - Реализовать логирование запросов и ошибок (например, с помощью pino и для красоты можно использовать chalk).
      - Логи должны содержать дату, метод, url, статус ответа, ip клиента.
   7. Тестирование
      - Реализовать юнит-тесты для бизнес-логики (с использованием jest).
      - Минимум 5 тестов на каждую сущность.
   8. Документация
      - Описать API с помощью Swagger (swagger-jsdoc + swagger-ui-express) или аналогичного инструмента.
      - README.md с инструкцией по запуску, настройке, миграциям и тестированию.
3. Нефункциональные требования
   - Использовать современный стиль кода (ESLint).
   - Использовать архитектуру "контроллер-сервис-репозиторий".
   - Использовать типизацию TypeScript на всех уровнях.
   - Хранить настройки (строки подключения, секреты) в .env файле.
   - Для PostgreSQL использовать ORM (Sequelize).
   - Для MongoDB использовать ODM (Mongoose).
   - Проект должен запускаться в Docker (docker-compose для сервисов).
4. Этапы выполнения
   1. Проектирование структуры БД (MongoDB и PostgreSQL).
   2. Настройка окружения, Docker, TypeScript.
   3. Реализация моделей и репозиториев.
   4. Реализация контроллеров и сервисов.
   5. Реализация аутентификации.
   6. Реализация логирования и обработки ошибок.
   7. Реализация тестов.
   8. Документирование API.
   9. Финальное тестирование и подготовка к сдаче.

5. Структура приложения  
   project-root/
   │  
   ├── src/  
   │   ├── config/  
   │   │   ├── mongoose.ts  
   │   │   └── sequelize.ts  
   │   │  
   │   ├── models/  
   │   │   ├── pg/  
   │   │   │   └── order.repository.ts  
   │   │   └── mongo/  
   │   │       └── user.repository.ts  
   │   │  
   │   ├── repositories/  
   │   │   ├── pg/  
   │   │   │   └── order.repository.ts  
   │   │   └── mongo/  
   │   │       └── user.repository.ts  
   │   │  
   │   ├── services/  
   │   │   ├── order.service.ts  
   │   │   └── user.service.ts  
   │   │  
   │   ├── controllers/  
   │   │   ├── order.controller.ts  
   │   │   └── user.controller.ts  
   │   │  
   │   ├── routes/  
   │   │   ├── order.routes.ts  
   │   │   └── user.routes.ts  
   │   │  
   │   ├── middlewares/  
   │   │   ├── error.middleware.ts  
   │   │   └── auth.middleware.ts  
   │   │  
   │   ├── types/  
   │   │   ├── order.d.ts  
   │   │   └── user.d.ts  
   │   │  
   │   ├── utils/  
   │   │   └── logger.ts  
   │   │  
   │   ├── tests/  
   │   │   ├── order/  
   │   │   │   └── order.controller.test.ts  
   │   │   └── user/  
   │   │       └── user.controller.test.ts  
   │   │  
   │   ├── app.ts                    # Инициализация express, middlewares, routes  
   │   └── server.ts                 # Запуск сервера, подключение к БД  
   │  
   ├── .env  
   ├── package.json  
   ├── tsconfig.json  
   ├── Dockerfile  
   └── README.md
